<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>ä½œæ¯è¡¨</title>
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
		<link rel="shortcut icon" href="https://i0.hdslb.com/bfs/static/jinkela/long/images/favicon.ico">
		<style>
			* {
				margin: 0;
				padding: 0;
			}

			/* ä¸»æ ·å¼ */
			body {
				display: flex;
				justify-content: center;
				align-items: center;
				flex-direction: column;
				font-size: 40px;
				height: 100vh;
				background-color: #002D41;
				color: #eee;
				font-size: 2rem;
				text-align: center;
				cursor: url(https://files.cnblogs.com/files/BySee1423/cursor.ico), auto;
				user-select: none;
			}

			/* å†…å®¹æ˜¾ç¤º */
			#timetable {
				font-size: 56px;
			}

			/* æ—¶é—´æ˜¾ç¤º */
			#timeDisplay {
				font-size: 36px;
				margin-top: 20px;
			}

			/* æ–‡æœ¬æç¤º */
			#prompt {
				font-size: 56px;
				color: burlywood;
				font-weight: bolder;
			}

			/* å›¾æ ‡æ ·å¼ */
			.qust {
				cursor: pointer;
			}

			.creativity {
				font-size: 25px;
				/* color: chocolate; */
				font-weight: bolder;
				margin-top: 20px;
				border-bottom: 2px solid #607D8B;
				padding-bottom: 3px;
			}

			.slide-container {
				width: min(80vw, 600px);
				height: 60px;
				margin: 10px auto;
				position: relative;
				overflow: hidden;
				border-radius: 8px;
				box-shadow: 0 4px 16px rgb(7 17 22 / 58%);
			}

			.slide {
				position: absolute;
				inset: 0;
				display: grid;
				place-items: center;
				padding: 0 20px;
				background: #196150;
				color: white;
				font-size: clamp(0.7rem, 2vw, 0.89rem);
				opacity: 0;
				transition: opacity 0.8s ease-in-out;
			}

			.slide.active {
				opacity: 1;
			}

			/* è‰ç¨¿çº¸æ ·å¼ */
			#test {
				font-size: 20px;
				color: chocolate;
				font-family: 'æ¥·ä½“';
				margin: 20px 60px;
			}

			#NCEE {
				color: chocolate;
			}

			#inhome,
			#days,
			#percent {
				font-size: 36px;
				color: crimson;
				font-weight: bolder;
			}

			/* ç§»åŠ¨ç«¯æ ·å¼ */
			@media (orientation: portrait) {
				body {
					font-size: 1.45rem;
					height: 100vh;
					overflow: hidden;
				}

				.qust {
					font-size: 3rem;
					margin-top: -15Vh;
				}

				.creativity {
					font-size: 4vw;
				}
				
				.slide-container{
					margin-top: 30px;
				}
				
				#timetable {
					font-size: 16vw;
					margin: 6vw;
				}

				#timeDisplay {
					font-size: 6vw;
					margin-top: 6Vh;
					margin-bottom: 6Vh;
				}

				#prompt {
					font-size: 6vw;
					color: burlywood;
					font-weight: bolder;
				}

				#inhome,
				#days,
				#percent {
					font-size: 6vw;
				}

				#test {
					display: none;
				}
			}
		</style>
	</head>

	<body>
		<!-- æµ‹è¯•éŸ³é¢‘ -->
		<div class="qust">ğŸ‘€</div>
		<!-- å†…å®¹æ˜¾ç¤º -->
		<div id="timetable"></div>
		<!-- æ—¶é—´æ˜¾ç¤º -->
		<div id="timeDisplay"></div>
		<!-- ç»“æŸæç¤ºæ–‡æœ¬ -->
		<div>
			<p>
				ç¦»ç»“æŸè¿˜æœ‰<span id="prompt"></span> åˆ†é’Ÿ â³
			</p>
			<p class="creativity">
				ä»Šå¤©ğŸ“† <span id="week"></span> ï¼Œ
				<span id="NCEE"></span>
			</p>
			<p class="creativity">
				å·²ç»ä¼‘æ¯ <span id="inhome"></span> å¤©äº†ï¼Œ
				ä»Šå¤©æ˜¯ä»Šå¹´çš„ç¬¬<span id="days"></span>å¤©ï¼Œ
				ä»Šå¹´å·²ç»è¿‡å»äº†<span id="percent"></span>ï¼Œè¦çæƒœæ—¶é—´å“¦ğŸ˜‰ï¼
			</p>
		</div>
		<!-- æ•°æ®æ ¡éªŒ -->
		<div id="test"></div>
		<!-- éŸ³é¢‘ -->
		<audio id="voice" src="media/cxk.mp3"></audio>
		<audio id="classStartBell" src="media/classStartBell.mp3"></audio>
		<audio id="classEndBell" src="media/classEndBell.mp3"></audio>
		<div class="slide-container">
			<div class="slide active">~æ—¶é’ˆè¿˜åœ¨ä¸åœçš„è½¬åŠ¨ï¼Œæˆ‘ä»¬çš„ç”Ÿæ´»è¿˜åœ¨ç»§ç»­ç€ï¼Œæˆ–è®¸æ‚ä¹±æ— ç« ï¼Œæˆ–è®¸äº•ç„¶æœ‰åº~</div>
			<div class="slide">~åœ¨è¿™åŒ†å¿™çš„ç”Ÿæ´»ä¸­ï¼Œæˆ‘ä»¬ä¸€ç›´éƒ½åœ¨å‰è¿›ç€ï¼Œæ€è€ƒç€ï¼Œè¿™ä¸€åˆ‡ä»æ¥éƒ½ä¸æ›¾é©»è¶³~</div>
		</div>
		<script type="text/javascript">
			//ä½ å¹²å˜›
			let audio = document.getElementById('voice');
			let qust = document.querySelector('.qust');
			qust.onclick = function music() {
				audio.play();
			}
			// ä¸Šè¯¾é“ƒ
			function HK() {
				let haveClass = document.getElementById('classStartBell');
				haveClass.play();
			}
			// ä¸‹è¯¾é“ƒ
			function KO() {
				let overClass = document.getElementById('classEndBell');
				overClass.play();
			}
			// åˆ›å»ºæ—¶é—´æ›´æ–°å‡½æ•°
			function update() {
				// å»é™¤é‡å¤çš„æ—¶é—´èŒƒå›´ï¼Œä¿è¯å”¯ä¸€æ€§
				const schedule = {
					'06:00 - 06:40': 'èµ·åºŠå•¦ï¼ç°åœ¨æ˜¯æ´—æ¼±æ—¶é—´',
					// '06:20 - 07:00': 'æŠ¤è‚¤æ—¶é—´',
					'06:00 - 07:40': 'æ—©è‡ªä¹ æ—¶é—´<br/>~å¯ä»¥å‡†å¤‡æ—©é¤äº†~',
					'07:50 - 08:30': 'æ—©é¤æ—¶é—´',
					'08:40 - 09:20': 'ç°åœ¨æ˜¯ä¸Šåˆç¬¬ä¸€èŠ‚è¯¾',
					'09:30 - 10:10': 'ç°åœ¨æ˜¯ä¸Šåˆç¬¬äºŒèŠ‚è¯¾',
					'10:30 - 11:10': 'ç°åœ¨æ˜¯ä¸Šåˆç¬¬ä¸‰èŠ‚è¯¾',
					'11:20 - 12:00': 'ç°åœ¨æ˜¯ä¸Šåˆç¬¬å››èŠ‚è¯¾<br/>~å¯ä»¥å‡†å¤‡åˆé¤äº†~',
					'12:10 - 12:40': 'åˆé¤æ—¶é—´',
					'12:50 - 13:50': 'åˆä¼‘æ—¶é—´',
					'14:00 - 14:40': 'ç°åœ¨æ˜¯ä¸‹åˆç¬¬ä¸€èŠ‚è¯¾',
					'14:50 - 15:30': 'ç°åœ¨æ˜¯ä¸‹åˆç¬¬äºŒèŠ‚è¯¾',
					'15:40 - 16:20': 'ç°åœ¨æ˜¯ä¸‹åˆç¬¬ä¸‰èŠ‚è¯¾',
					'16:30 - 17:10': 'ç°åœ¨æ˜¯ä¸‹åˆç¬¬å››èŠ‚è¯¾',
					'17:20 - 18:00': 'ç°åœ¨æ˜¯ä¸‹åˆç¬¬äº”èŠ‚è¯¾<br/>~å¯ä»¥å‡†å¤‡æ™šé¤äº†~',
					'18:10 - 18:50': 'æ™šé¤æ—¶é—´',
					'19:00 - 19:50': 'ç¬¬ä¸€èŠ‚æ™šè‡ªä¹ ',
					'20:00 - 20:50': 'ç¬¬äºŒèŠ‚æ™šè‡ªä¹ ',
					'21:00 - 21:50': 'ç¬¬ä¸‰èŠ‚æ™šè‡ªä¹ ',
					'22:00 - 22:50': 'ç‹è€…æ—¶é—´',
					'23:00 - 23:10': 'ç†„ç¯ç¡è§‰'
				};
				const week = ['æ˜ŸæœŸæ—¥', 'æ˜ŸæœŸä¸€', 'æ˜ŸæœŸäºŒ', 'æ˜ŸæœŸä¸‰', 'æ˜ŸæœŸå››', 'æ˜ŸæœŸäº”', 'æ˜ŸæœŸå…­']
				// ç°åœ¨æ—¶é—´å¯¹è±¡
				let now = new Date();
				// ç°åœ¨å°æ—¶
				let currentHour = now.getHours();
				// ç°åœ¨åˆ†é’Ÿ
				let currentMin = now.getMinutes();
				// ç°åœ¨æ€»åˆ†é’Ÿ
				let currentTotalMinutes = currentHour * 60 + currentMin;
				// è¾“å‡ºç°åœ¨æ—¶é—´
				document.getElementById("timeDisplay").innerHTML = 'â²  ' + now;;
				let today = week[now.getDay()];
				document.getElementById("week").innerHTML = today;
				// å£°æ˜ä¸€ä¸ªæ—¶é—´èŒƒå›´å˜é‡åœ¨æ—¶é—´è¡¨ä¸­ï¼Œå¯¹æ¯”æ—¶é—´è¡¨è¿”å›å½“å‰å†…å®¹
				for (let timeRange in schedule) {
					// è§£æ„å‡ºå¼€å§‹æ—¶é—´å’Œç»“æŸæ—¶é—´å˜é‡
					let [startTime, endTime] = timeRange.split(' - ');
					// è¿›ä¸€æ­¥è§£æ„å‡ºå¼€å§‹å°æ—¶ã€å¼€å§‹åˆ†é’Ÿå˜é‡ï¼Œå¹¶è½¬åŒ–ä¸ºæ•°å­—ç±»å‹
					let [startHour, startMin] = startTime.split(':').map(Number);
					// è¿›ä¸€æ­¥è§£æ„å‡ºç»“æŸå°æ—¶ã€ç»“æŸåˆ†é’Ÿå˜é‡ï¼Œå¹¶è½¬åŒ–ä¸ºæ•°å­—ç±»å‹
					let [endHour, endMin] = endTime.split(':').map(Number);
					// å£°æ˜å¼€å§‹æ€»åˆ†é’Ÿ
					let startTotalMinutes = startHour * 60 + startMin;
					// å£°æ˜ç»“æŸæ€»åˆ†é’Ÿ
					let endTotalMinutes = endHour * 60 + endMin;

					// å°†æ—¶é—´éƒ½è½¬æ¢ä¸ºåˆ†é’Ÿæ•°è¿›è¡Œæ¯”è¾ƒ
					// æ¡ä»¶ï¼šå½“å‰æ€»åˆ†é’Ÿå¤§äºç­‰äºå¼€å§‹æ€»åˆ†é’Ÿä¸”å½“å‰æ€»åˆ†é’Ÿå°äºç»“æŸæ€»åˆ†é’Ÿã€‚ï¼ˆåœ¨æ—¶é—´è¡¨timeRangeå†…ï¼Œå¼€å§‹-ç»“æŸï¼‰
					if (currentTotalMinutes >= startTotalMinutes && currentTotalMinutes < endTotalMinutes) {
						// è¾“å‡ºå½“å‰æ—¶é—´è¯¥åšçš„äº‹æƒ…
						document.getElementById("timetable").innerHTML = schedule[timeRange];
						// è®¡ç®—ä¸‹è¯¾çš„æ—¶é—´ï¼Œç”¨ç»“æŸæ€»åˆ†é’Ÿ-ç°åœ¨æ€»åˆ†é’Ÿ
						let diff = endTotalMinutes - currentTotalMinutes;
						// è¾“å‡ºæ—¶é—´å·®
						document.getElementById("prompt").innerHTML = diff;
						// æ•°æ®éªŒè¯
						/*
						document.getElementById("test").innerHTML = `ç°åœ¨æ—¶é—´æ˜¯${currentHour}:${currentMin},ç°åœ¨åˆ†é’Ÿæ•°æ˜¯
						${currentTotalMinutes},åœ¨${timeRange}åŒºé—´å†…,<br/>å¼€å§‹æ˜¯${startTime},ç»“æŸæ˜¯${endTime},å¼€å§‹æ€»åˆ†é’Ÿæ•°
						${startTotalMinutes},ç»“æŸæ€»åˆ†é’Ÿæ•°${endTotalMinutes},å½“å‰çŠ¶æ€åº”è¯¥ä¸ºä¸Šè¯¾çŠ¶æ€ï¼Œè·ç¦»ä¸‹è¯¾è¿˜æœ‰${diff}åˆ†é’Ÿ`;
						*/
						// æ‰§è¡Œä¸Šè¯¾é“ƒï¼Œå½“ç°åœ¨æ€»åˆ†é’Ÿä¸å¼€å§‹æ€»åˆ†é’Ÿç›¸åŒ
						if (currentTotalMinutes === startTotalMinutes && currentHour < 23) {
							HK();
						}
						break; //è·³å‡ºå¾ªç¯ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆæ²¡èµ·æ•ˆæœ
						// æ¡ä»¶ï¼šå½“å‰æ€»åˆ†é’Ÿå¤§äºç­‰äºç»“æŸæ—¶é—´ï¼Œï¼ˆä¸åœ¨æ—¶é—´è¡¨timeRangeå†…ï¼Œç»“æŸ-å¼€å§‹ï¼‰
					} else if (currentTotalMinutes >= endTotalMinutes) {
						// æ”¶é›†æ‰€æœ‰æ—¶é—´æ®µçš„å¼€å§‹æ—¶é—´ï¼Œå¹¶æ’åº
						const allStarts = Object.keys(schedule).map(tr => {
							const [st] = tr.split(' - ');
							const [h, m] = st.split(':').map(Number);
							return h * 60 + m;
						}).sort((a, b) => a - b);

						// è¿‡æ»¤å‡ºæ™šäºå½“å‰æ—¶é—´çš„å¼€å§‹æ—¶é—´
						const futureStarts = allStarts.filter(ms => ms > currentTotalMinutes);

						// è®¡ç®—ä¸‹ä¸€ä¸ªå¼€å§‹æ—¶é—´ï¼ˆä¼˜å…ˆå–å½“å¤©æœ€è¿‘çš„ï¼Œå¦åˆ™å–æ¬¡æ—¥ç¬¬ä¸€ä¸ªï¼‰
						const nextStartTotalMinutes = futureStarts.length ?
							futureStarts[0] :
							allStarts[0] + 24 * 60; // è·¨å¤©å¤„ç†

						document.getElementById("timetable").innerHTML = 'ä¸‹è¯¾æ—¶é—´';
						const diff = nextStartTotalMinutes - currentTotalMinutes;
						document.getElementById("prompt").innerHTML = diff;
						// æ•°æ®éªŒè¯
						/*
						document.getElementById("test").innerHTML = `ç°åœ¨æ—¶é—´æ˜¯${currentHour}:${currentMin},ç°åœ¨åˆ†é’Ÿæ•°æ˜¯
						${currentTotalMinutes},åœ¨${timeRange}åŒºé—´å†…,<br/>å¼€å§‹æ˜¯${startTime},ç»“æŸæ˜¯${endTime},å¼€å§‹æ€»åˆ†é’Ÿæ•°
						${startTotalMinutes},ç»“æŸæ€»åˆ†é’Ÿæ•°${endTotalMinutes},å½“å‰çŠ¶æ€åº”è¯¥ä¸ºä¸‹è¯¾çŠ¶æ€ï¼Œè·ç¦»ä¸Šè¯¾è¿˜æœ‰${diff}åˆ†é’Ÿ`;
						*/
						// ä¸‹è¯¾é“ƒè§¦å‘
						if (currentTotalMinutes === endTotalMinutes && currentHour < 23) {
							KO();
						}
					}
				}
				// é«˜è€ƒå€’è®¡æ—¶
				let examYear = now.getFullYear();
				let examText = "è·ç¦»ä»Šå¹´é«˜è€ƒè¿˜æœ‰ï¼š";
				let examDate = new Date(`${examYear}-06-07T09:00:00`);
				// let MexamDate = new Date(`${examYear}-06-20T09:00:00`);//ä¸­è€ƒ
				let resign = new Date(`${examYear}-03-21T18:00:00`);
				let resignday = Math.floor((now - resign) / (1000 * 60 * 60 * 24));
				// è‹¥å½“å‰æ—¶é—´è¶…è¿‡6æœˆï¼Œåˆ™è®¡ç®—ä¸‹ä¸€å¹´é«˜è€ƒ
				if (now.getMonth() >= 5) {
					examYear = now.getFullYear() + 1;
					examText = "è·ç¦»æ˜å¹´é«˜è€ƒè¿˜æœ‰ï¼š";
					examDate = new Date(`${examYear}-06-07T09:00:00`);
				}

				// è®¡ç®—æ—¶é—´å·®ï¼ˆæ¯«ç§’ï¼‰
				const diff = examDate - now;
				// è·å–å½“å¹´çš„1æœˆ1æ—¥çš„æ—¥æœŸ
				let firstDay = new Date(now.getFullYear(), 0, 1);

				// è®¡ç®—ä»Šå¤©æ˜¯å½“å¹´çš„ç¬¬å‡ å¤©
				let dayOfYear = Math.ceil((now - firstDay) / (1000 * 60 * 60 * 24));

				// è®¡ç®—ä»Šå¤©çš„è¿›åº¦
				var progress = Math.ceil(dayOfYear / 365 * 100);
				// è½¬æ¢ä¸ºå¤©ã€æ—¶ã€åˆ†ã€ç§’
				const examdays = Math.floor(diff / (1000 * 60 * 60 * 24));
				const examhours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
				const examminutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
				const examseconds = Math.floor((diff % (1000 * 60)) / 1000);
				// æ˜¾ç¤ºç»“æœ
				document.getElementById("NCEE").textContent =
					`${examText}${examdays}å¤© ${examhours}æ—¶ ${examminutes}åˆ† ${examseconds}ç§’`;
				document.getElementById("inhome").textContent = resignday;
				document.getElementById("days").textContent = dayOfYear;
				document.getElementById("percent").textContent = progress + "%";
			}
			setInterval(update, 1000);
			document.addEventListener('DOMContentLoaded', () => {
				const slides = document.querySelectorAll('.slide');
				let current = 0;

				setInterval(() => {
					slides[current].classList.remove('active');
					current = (current + 1) % slides.length;
					slides[current].classList.add('active');
				}, 8000);
			});
		</script>
	</body>
</html>
